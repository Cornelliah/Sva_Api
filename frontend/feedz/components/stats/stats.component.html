<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistiques</title>
</head>
<body>
    <app-nav></app-nav>

    <div *ngIf="isLoading" class="loading">Chargement des statistiques...</div>
    <div *ngIf="error" class="error">{{ error }}</div>

    <div *ngIf="!isLoading && !error" class="statistics-container">

        <div *ngFor="let stat of statistics" class="d-flex stat">
            <div class="card grey-card ">
                <div class="card-content">
                    <h3>Date : {{ stat.date | date:'dd/MM/yyyy' }}</h3>
                    <div class="stat-item">
                        <strong>Nombre d'envois :</strong> {{ stat.number_of_sends }}
                    </div>
                </div>
            </div>
            <div class="card green-card">
                <div class="card-content">
                    <div class="stat-item">
                        <strong>Nombre de réussites :</strong> {{ stat.number_of_success }}
                    </div>
                </div>
            </div>
            <div class="card red-card">
                <div class="card-content">
                    <div class="stat-item">
                        <strong>Nombre d'échecs :</strong> {{ stat.number_of_failures }}
                    </div>
                </div>
            </div>
            <div class="card orange-card">
                <div class="card-content">
                    <div class="stat-item">
                        <strong>Taux de réussite :</strong> {{ stat.success_rate }}%
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="gif-container">
        <img src="analytics.gif" alt="Analytics GIF">
    </div>
</body>
</html>


